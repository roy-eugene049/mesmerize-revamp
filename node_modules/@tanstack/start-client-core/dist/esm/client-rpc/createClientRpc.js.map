{"version":3,"file":"createClientRpc.js","sources":["../../../src/client-rpc/createClientRpc.ts"],"sourcesContent":["import { TSS_SERVER_FUNCTION } from '../constants'\nimport { getStartOptions } from '../getStartOptions'\nimport { serverFnFetcher } from './serverFnFetcher'\nimport type { ClientFnMeta } from '../constants'\n\nexport function createClientRpc(functionId: string) {\n  const url = process.env.TSS_SERVER_FN_BASE + functionId\n  const serverFnMeta: ClientFnMeta = { id: functionId }\n\n  const clientFn = (...args: Array<any>) => {\n    const startFetch = getStartOptions()?.serverFns?.fetch\n    return serverFnFetcher(url, args, startFetch ?? fetch)\n  }\n\n  return Object.assign(clientFn, {\n    url,\n    serverFnMeta,\n    [TSS_SERVER_FUNCTION]: true,\n  })\n}\n"],"names":[],"mappings":";;;AAKO,SAAS,gBAAgB,YAAoB;AAClD,QAAM,MAAM,QAAQ,IAAI,qBAAqB;AAC7C,QAAM,eAA6B,EAAE,IAAI,WAAA;AAEzC,QAAM,WAAW,IAAI,SAAqB;AACxC,UAAM,aAAa,mBAAmB,WAAW;AACjD,WAAO,gBAAgB,KAAK,MAAM,cAAc,KAAK;AAAA,EACvD;AAEA,SAAO,OAAO,OAAO,UAAU;AAAA,IAC7B;AAAA,IACA;AAAA,IACA,CAAC,mBAAmB,GAAG;AAAA,EAAA,CACxB;AACH;"}